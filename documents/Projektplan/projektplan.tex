%% TODO%% TODO%% TODO%% TODO%% TODO%% TODO%% TODO%% TODO%% TODO%% TODO%% TODO		   
% Milstolpar, material, utveklingsmetodik, tidsplan, simuleringar
% 
\documentclass[a4paper,titlepage,12pt]{article}
\usepackage[utf8]{inputenc} %Make sure all UTF8 characters work in the document
\usepackage{color}
\usepackage{graphicx}
\usepackage{titling}
\usepackage[titletoc,title]{appendix}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage[yyyymmdd]{datetime}
\usepackage[figurename=Figur]{caption}
\usepackage{pbox}
\usepackage{booktabs}
\usepackage[parfill]{parskip}
%\usepackage[compact]{titlesec}

%Set page size
\usepackage{geometry}
\geometry{margin=3cm}

\renewcommand{\dateseparator}{-}
\renewcommand{\contentsname}{Innehållsförteckning}
\renewcommand{\appendixname}{Bilaga}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Header and footer
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{fancyhdr}
\pagestyle{fancy}

\lhead{\includegraphics[width=0.15\linewidth]{../images/logo_full.png}}
\chead{Projektplan för sexbent robot}
\rhead{\today}
\setlength\headheight{26pt} 

\lfoot{TSEA29 --- KMM \\ LIPS Projektplan}
\rfoot{Grupp 9 \\ LiTHe Hex}

\pretitle{%
	\begin{center}
		\LARGE
		\includegraphics[width=6cm]{../images/logo_full.png}\\[\bigskipamount]
}

\posttitle{\end{center}}

\newcounter{milNr}
\setcounter{milNr}{0}
\newcommand{\nextMilNr}{\stepcounter{milNr}\arabic{milNr}}

\newcounter{bpNr}
\setcounter{bpNr}{-1}
\newcommand{\nextBPNr}{\stepcounter{bpNr}\arabic{bpNr}}

\newcounter{aktNr}
\setcounter{aktNr}{0}
\newcommand{\nextAktNr}{\stepcounter{aktNr}\arabic{aktNr}}

\begin{document}
	\title{\LARGE
		\textbf{Projektplan för sexbent robot} \\
		\vspace*{0.5\baselineskip}
		\large
		Redaktör Malcolm Vigren \\
		Grupp 9 \\
		\small
		\vspace*{0.5\baselineskip}
		Version 0.1}

	\date{\today}

		\maketitle
	
	\newpage
	
	\begin{center}

		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		%						Medlemmar
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

		\section*{Projektidentitet}
		Grupp 9, Ht 2016, LiTHe Hex

		Linköpings Tekniska Högskola, ISY

		\renewcommand*{\arraystretch}{1.4}
		\begin{longtable}[c]{ l l l }
			\textbf{Namn} & \textbf{Ansvar} & \textbf{E-post} \\ \midrule
			Emil Segerbäck & & emise935@student.liu.se \\ \midrule
			Frans Skarman & Dokumentansvarig & frask812@student.liu.se \\ \midrule
			Hannes Tuhkala & & hantu447@student.liu.se \\ \midrule
			Malcolm Vigren & Projektledare & malvi108@student.liu.se \\ \midrule
			Noak Ringman &  & noari093@student.liu.se \\ \midrule
			Olav Övrebö &  & olaov121@student.liu.se \\ \midrule
			Robin Sliwa &  & robsl733@student.liu.se \\
		\end{longtable}

		\centering
		\textbf{Kursansvarig}: Tomas Svensson Rum 3B:528 013--28 13 68 tomas.svensson@liu.se

		\newpage
		\tableofcontents
		\newpage


		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		%						Historik
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

		\section*{Dokumenthistorik}
		\renewcommand*{\arraystretch}{1.4}
		\begin{longtable}[c]{ l l l l l }
			\textbf{Version} & \textbf{Datum} & \textbf{Utförda förändringar} 
			& \textbf{Utförda av} & \textbf{Granskad} \\ \midrule

			0.1 & 2016--09--20 & Första utkastet & Projektgruppen & \\
		\end{longtable}
	\end{center}

	\newpage

	\section{Beställare}
	Beställare är Tomas Svensson, lektor vid Linköpings tekiska högskola. \\
  Kontaktdata: Rum 3B:528 013–28 13 68 tomas.svensson@liu.se

	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%						Översikt
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

	\newpage
	\section{Översiktlig beskrivning av projektet}
	Text

	\subsection{Syfte och mål}
	Syftet och målet med projektet är att utveckla en sexbent robot som själv
	kan navigera sig ut ur en labyrint. I labyrinten bör roboten även kunna ta
	sig över hinder för att komma vidare.

	% TODO varför ska vi lägga till "specifika syften som berör projektet och
	% dess medlemmar"???!!??!
	
	
	\subsection{Leveranser}
	De dokument som ska levereras till kunden är: projektplan, tidplan,
	systemskiss, designspecifikation, teknisk dokumentation och
	användarhandledning. Slutleveransen består av en presentation av projektet,
	demonstration av roboten i autonomnt och manuellt läge i form av en tävling,
	samt överlämning av kod, hårdvara och dokumentation.
	
	
	\subsection{Begränsningar}
	Roboten behöver inte klara mer avancerade former på labyrinten än de som
	beskrivs i Ban- och regelspecifikationen.
	
	
	\section{Fasplan}
    Projektet har två huvudfaser efter inledningsfasen -- "Under"-fasen samt
    "Efter"-fasen.
	
	\subsection{Under projektet}
	Under projektet ska en designspecifikation skrivas med detaljerad
	information om hur roboten ska implementeras. Efter att
	designspecifikationen är klar påbörjas implementationen av systemet. Vid
    denna tidpunkt ska simuleringar konstrueras för att underlätta testning av
    delar av systemet innan hela systemet har implementerats.
	Enhetstester ska konstrueras i takt med att testbara delar av systemet har
	implementerats. Teknisk dokumentation för varje delsystemet ska skrivas
	i takt med att implementationsbeslut utförs.

	Hela gruppen ska ha möten minst en gång per vecka för att presentera
	varandras arbete sedan förra mötet, och för att kontrollera att projektet
	följer planen. Dessa möten blir också tillfällen att diskutera problem som
	uppstår med hela gruppen.

	Om ett visst krav i kravspecifikationen inte kan implementeras ska ett möte
	med beställaren anordnas för omförhandling av kravet i fråga.
	
	\subsection{Efter projektet}
	Projektet avslutas med slutleverans efter att alla krav i
	kravspecifikationen är uppfyllda. Efter leveransen görs en efterstudie.
	
	
	\section{Organisationsplan för hela projektet}
	%I detta avsnitt beskrivs hur projektet ska organiseras.
	Projektrollerna som ingår i detta projekt är: beställare/kund, handlerare,
	projektledare och projektmedlemmar. Alla projektmedlemmar har kontakt med
	handledaren, men det är projektledaren som sköter den huvudsakliga
	kontakten med beställaren, se figur \ref{fig:organization}.

	\begin{figure}[h!]
		\begin{center}
		\includegraphics[width=0.8\linewidth]{images/projectroles.png}
		\caption{Projektets organisation \label{fig:organization}}
		\end{center}
	\end{figure}
	 
	\subsection{Villkor för samarbetet inom projektgruppen}
	% TODO create appendix
	Se Bilaga \ref{app:gruppkontrakt} - Gruppkontrakt.

	
	\subsection{Definition av arbetsinnehåll och ansvar}
	Beställarens huvudsakliga uppgifter är att fatta beslut
	om fortsättning av projektet vid beslutspunkter, godkänna
	ändringar under projektets gång, läsa statusrapporter samt godkännande av
	projektets avslut. Arbetsuppgifterna för projektledaren är, utöver
	arbetsuppgifterna för resten av projektmedlemmarna, att fördela
	arbetsuppgifter, planera och leda projektarbetet, se till att projektets mål
	nås samt motivera projektmedlemmarna.

	Kommunikationen mellan projektmedlemmar kommer att ske genom möten, en
	gemensam kalender samt en gruppchatt.
	
	För information om hur arbetet på delsystemen ska fördelas, se Bilaga
	\ref{app:tidsplan} - Tidsplan.
	
	\section{Dokumentplan}
	Dokumenten lagras på GitHub och Git används för versionshantering av
	dokumenten, som skrivs i LaTeX. Alla projektmedlemmar har tillgång till
	samtliga dokument. All dokumentation, förutom kommentarer och doc-strängar
	i kod, är skriven på svenska.

	Stora ändringar ger inkrementering av heltalssiffran i versionsnumrena,
	medan små ändringar ger inkrementation av decimalsiffran.
	
	% FIXME kontrollera ansvarig och sånt
	% TODO lägg till eventuella fler interna dokument
	\begin{longtable}[l]{ p{2.5cm} p{2.1cm} >{\raggedright}p{4cm} p{2.2cm} l }
		\textbf{Dokument} & \textbf{Ansvarig/ godkänns av} & \textbf{Syfte} & \textbf{Distribueras till} & \textbf{Färdigdatum} \\ \midrule
		
		Kravspeci-fikation & Beställare & Definierar alla krav på
		systemet & Beställare & 2016--09--13 \\ \midrule

		Projektplan & Beställare & En beskrivning av hur projektet ska genomföras & Beställare &
		2016--09--29 \\ \midrule

		Tidplan & Beställare & Planering för hur arbetstid ska
		fördelas. & Beställare & 2016--09--29  \\ \midrule
		
		Systemskiss & Beställare & Grov skiss och idéer för 
		implementation av systemet & Beställare & 2016--09--29 \\ \midrule

		Designspeci-fikation & Handledare & Detaljerad beskrivning av
		implementationen av systemet. & Handledare & 2016--11--04 \\ \midrule

		Tidrapporter & Beställare & Rapportering av använd arbetstid &
		Beställare & Veckovis		\\ \midrule

		Statusrapporter & Beställare & Rapportering av nuvarande framteg &
		Beställare & Veckovis \\ \midrule

		Teknisk dokumentation & Beställare & Teknisk beskriving av
		implementationen av den färdiga produkten. & Beställare &
		2016--12--17 \\ \midrule

		Användar- handledning & Beställare & En manual för användning av
		produkten & Beställare & 2016--12--17 \\ \midrule

		Efterstudie & Beställare & Utvärdering av projektet &
		Beställare & 2016--12--22  \\ \midrule
	\end{longtable}
	
	
	\section{Utvecklingsmetodik}
	Utvecklingsmetodiken är korrekt.

	\subsection{Programmeringsspråk}
	För programmering av AVR-processorerna i sensor- och motorikenheten ska C
	användas. För programmering av centralenheten ska Python användas, då det
	är ett högnivå-språk med bra stöd i Raspberry Pi. GUI-systemet ska
	programmeras i det funktionella språket Elm. All kod versionshanteras i
    Git.
	
	\section{Utbildningsplan}

	De gruppmedlemmar som arbetar på ett visst delsystem bör vara fullt
	utbildade i alla tekniska detaljer som ingår i implementationen av det
	delsystemet. Gruppmedlemmar som arbetar på andra system behöver inte lika
	stor insikt i de tekniska detaljerna, men bör
	informera sig om gränssnitten mellan sin enhet och andra delsystem, samt väldigt 
	grundläggande information om hur enheterna är uppbyggda och deras syften.

	Varje delgrupp är ansvarig i att utbilda sig inom de kunskaper som krävs
	för utveckling av sina respekive delsystem.

	\section{Rapporteringsplan}
	Tids- och statusrapporter ska skrivas varje vecka. Detta görs lämpligen
	efter veckomötet av den utvalda sekreteraren för det mötet.
	
	\section{Mötesplan}
	Minst en gång per vecka ska ett möte hållas, där alla gruppmedlemmar
	redovisar för vad de har gjort, vilka problem de har löst, samt hur de
	tänker fortsätta sitt arbete. Mötena ska även användas för diskussion av
	problem gällande de olika delsystemen eller hela systemet. Dessa möten väntas 
	ta ungefär 1 timme, och vid varje möte ska en sekreterare utses, som åläggs skriva 
	en statusrapport utifrån från det som togs upp på mötet. Mötena ska ske i början av
	varje vecka.
	
	
	\section{Resursplan}
	
	\subsection{Personer}
	Alla 7 projektmedlemmar förväntas arbeta ungefär lika mycket under alla
	projektfaser. Projektgruppen har tillgång till en handlerare.
	
	\subsection{Material}
    I nuläget är det känt att följande material behövs:
	\begin{itemize}
			\item Chassi för hexapod-robot inklusive servon
			\item 2 AVR-processorer
			\item 1 Raspberry Pi-enkortsdator (3:e generationen)
			\item Avståndssensorer
            \item 1 Gyro
            \item Kretskort
            \item Diverse kablar och elektronikkomponenter
	\end{itemize}
	
	
	\subsection{Lokaler}
	Muxen kommer användas för kodning och testning med robot. Grupprum kommer
	användas för kodning, design och möten.
	
	
	\subsection{Ekonomi}
	Efter godkänd projektplan får maximalt 1120 arbetstimmar ha använts på projektet.
	
	
	\section{Milstolpar och beslutspunkter}
	Milstolparna består av viktiga delmoment och avslutade projektfaser som
  spelar kritisk roll. 
	
	\subsection{Milstolpar}
	\begin{longtable}[c]{ c l c}
		\textbf{Nr} & \textbf{Beskrivning} & \textbf{Datum} \\ \midrule
		\nextMilNr{} & Designspecifikation är klar & -- \\ \midrule
		\nextMilNr{} & Roboten kan röra servona med inverterad kinematik & -- \\ \midrule
		\nextMilNr{} & Roboten kan fatta beslut med hjälp av sensordata & -- \\ \midrule
		\nextMilNr{} & Det går att styra roboten från gränssnittet & -- \\ \midrule
		\nextMilNr{} & Roboten kan navigera sig igenom en bana enligt specifikationen& -- \\ \midrule
		\nextMilNr{} & Teknisk dokumentation är klar & -- \\ \midrule
	\end{longtable}
	
	
	\subsection{Beslutspunkter}
	\renewcommand*{\arraystretch}{1.4}
	\begin{longtable}[c]{ c l c}
		\textbf{Nr} & \textbf{Beskrivning} & \textbf{Datum} \\ \midrule
		\nextBPNr{} & Godkännande av projektdirektiv, beslut att starta förstudie & 2016--09--02 \\ \midrule
		\nextBPNr{} & Godkännande av kravspecifikation, beslut att starta förberedelsefasen & 2016--09--13 \\ \midrule
		\nextBPNr{} & Godkännande av projektplanering, beslut att starta utförandefasen & 2016--09--29 \\ \midrule
		\nextBPNr{} & Godkännande av designspecifikation, beslut att fortsätta
		utförandefasen & -- \\ \midrule
		\nextBPNr{} & Godkännande av produktens funktionalitet, beslut att leverera & -- \\ \midrule
		\nextBPNr{} & Godkännande av leverans, beslut att upplösa projektgruppen & -- \\ \midrule
	\end{longtable}
	
	
	\section{Aktiviteter}
	\renewcommand*{\arraystretch}{1.4}
	\begin{longtable}[c]{ c p{4cm} p{6cm} p{2cm} p{2cm}}
		\textbf{Nr} & \textbf{Aktivitet} & \textbf{Beskrivning} & \textbf{Beroende av nr} & \textbf{Beräknad tid tim} \\ \midrule
		\nextAktNr{} & Inverterad Kinematik & Uträkning av vinklar för servon utifrån slutposition &  & 20 \\ \midrule
		\nextAktNr{} & Servokontroll & Kunna kontrollera servon &  & 16 \\ \midrule
		\nextAktNr{} & Gångstil & Hur roboten går åt olika håll & 1 & 50 \\ \midrule
		\nextAktNr{} & Kommunikation centralenhet & Motorikenheten ska kommunicera med centralenheten &  & 10 \\ \midrule
		\nextAktNr{} & Golvhöjdsdetektion & Kännedom av chassits höjd från marken & 2 & 14 \\ \midrule
		\nextAktNr{} & Stötdetektion av hinder & Upptäcka stöt med hinder & 2 & 15 \\ \midrule
		\nextAktNr{} & Hindergång & Ta sig över hinder på banan & 1,3 & 20 \\ \midrule
		\nextAktNr{} & Kommunikation med motorikenhet & Centralenhetens kommunikation med motorikenheten &  & 10 \\ \midrule
		\nextAktNr{} & Detektera återvändsgränder & Detektera återvändsgränder
                                                m.h.a. sensordata &  & 14 \\ \midrule
		\nextAktNr{} & Kommunikation med sensorenhet & Centralenhetens kommunikation
                                                   med sensorenheten &  & 10 \\ \midrule
		\nextAktNr{} & Kommunikation med GUI & Centralenhetens kommunikation med GUI &  & 10 \\ \midrule
		\nextAktNr{} & Följa korridor & Kunna följa en korridor m.h.a. sensordata &  & 20 \\ \midrule
		\nextAktNr{} & Hinderdetektion & Detektera hinder m.h.a. sensordata &  & 22 \\ \midrule
		\nextAktNr{} & Hinderhantering & Gå över hindret efter detektion &  & 22 \\ \midrule
		\nextAktNr{} & Beslutsfattning & Fatta beslut m.h.a. sensordata & 9,12,13,14 & 24 \\ \midrule
		\nextAktNr{} & GUI kommandotolkning & Tolka de kommandon som kommer in från GUI & 11 & 12 \\ \midrule
		\nextAktNr{} & Telemetri & Skicka data till de olika enheterna och GUI & 11 & 12 \\ \midrule
		\nextAktNr{} & GUI för manuell styrning & Styra roboten manuellt m.h.a. GUI & 19,20 & 12 \\ \midrule
		\nextAktNr{} & Webbserver & Fungerande webbserver på centralenheten &  & 18 \\ \midrule
		\nextAktNr{} & Kommunikation med webbserver & Frontend kommunikation med webbservern &  & 10 \\ \midrule
		\nextAktNr{} & Joystick-kontroll & Kontroll av robot från GUI m.h.a. en joystick & 18,19,20 & 18 \\ \midrule
		\nextAktNr{} & Visning av debuglog & Visning av data från centralenheten & 19,20 & 10 \\ \midrule
		\nextAktNr{} & Läsning av avståndssensorer & Läsa av data från avståndssensorer & 27,29,30 & 10 \\ \midrule
		\nextAktNr{} & Kommunikation med centralenhet & Sensorenhetens kommunikation
                                                            med centralenheten& 27,30 & 10 \\ \midrule
		\nextAktNr{} & Läsning av gyro & Läsa av data från gyro & 27,30 & 10 \\ \midrule
		\nextAktNr{} & Läsning av LIDAR & Läsa av data från LIDAR & 27,30 & 10 \\ \midrule
		\nextAktNr{} & Brusreduktion av gyro & Brusreduktion av den inlästa gyrodatan &  & 16 \\ \midrule
		\nextAktNr{} & Brusreduktion av avståndssensor & Brusreduktion av den
                                                     inlästa avståndsdatan &  & 16 \\ \midrule
		\nextAktNr{} & Vinkeluträkning av gyro & Uträkning av vinkel från den
                                             brusreducerade gyrodatan & 25,27,30 & 12 \\ \midrule
		\nextAktNr{} & Multiplexning A/D-omvandlare & Multiplexning av A/D omvandlare & 27,30 & 14 \\ \midrule
		\nextAktNr{} & Enhetskonvertering & Konvertera sensordata till vettiga enheter &  & 10 \\ \midrule
		\nextAktNr{} & Kommunikationsprotokoll för AVR & Implementation av kommunikationsprotokoll för AVR  &  & 14 \\ \midrule
		\nextAktNr{} & Simulator för iverterad kinematik & Simulering av inverterad kinematik &  & 20 \\ \midrule
		\nextAktNr{} & Simulator för benkontroll & Simulering av benkontroll &  & 20 \\ \midrule
		\nextAktNr{} & Simulator för korridornavigation & Simulering av korridornavigation &  & 20 \\ \midrule
		\nextAktNr{} & Montering av hårdvara & Montering av roboten &  & 20 \\ \midrule
		\nextAktNr{} & Teknisk dokumentation & Skriva den tekniska dokumentationen för hela
                                                            systemet &  & 100 \\ \midrule
		\nextAktNr{} & Designspecifikation & Skriva designspecifikationen för hela systemet &  & 180 \\ \midrule
		\nextAktNr{} & Buffertid & Tiden som kan användas där den behövs &  & 150 \\ \midrule
		\nextAktNr{} & Projektmöten & Veckomöten med hela projektgruppen &  & 100 \\ \midrule
	\end{longtable}

	
	\section{Tidplan}
    Se Bilaga \ref{app:tidsplan} - Tidsplan.
	
	\section{Kvalitetsplan}
	Gruppmedlemmarna skall arbeta aktivt för att hålla uppe kvaliten på arbetet genom 
	granskningar och uppföljning efter en testplan.
	
	\subsection{Granskningar}
	Dokument ska granskas av de flesta projektmedlemmarna innan de lämnas in.
	
	\subsection{Testplan}
	Alla enskilda funktioner där det går att skriva tester ska ha tester som går att
	automatisera. Testerna ska skrivas samtidigt som funktionerna själva. Testerna ska
	även köras regelbundet. 

	Större integrationstester ska även göras när det är lämpligt.
	
	\section{Prioriteringar}
    Det viktigaste att prioritera är de krav i kravspecifikationen med
    prioritetsnivå 1.
	
	
	\section{Projektavslut}
	All hårdvara och kod överlämnas vid projektslut till kursansvariga vid ISY. All 
	kod överlämnas, men behålles på GitHub, utan referenser till kurskoden eller 
	kurstiteln. Där lagras även all dokumentation. En efterstudie görs med alla 
	gruppmedlemmar inplandade, där sammarbetet så väl som de tekniska lösningarna 
	utvärderas. När detta är gjort upplöses gruppen.

\begin{appendices}
	\section{Gruppkontrakt\label{app:gruppkontrakt}}
	\section{Tidsplan\label{app:tidsplan}}
\end{appendices}
\end{document}
